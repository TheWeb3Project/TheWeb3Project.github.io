<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="css/style.css">

  <title>The Web3 Project | Taking online further beyond</title>
  <meta content="The Web3 Project is on a mission to push web3 mass adoption by building the ultimate social network DApp, Whistle, where all your data will be backed as an NFT on the blockchain and purely under your control!" name="description">
  <meta content="The Web3 Project | Taking online further beyond" property="og:title">
  <meta content="The Web3 Project is on a mission to push web3 mass adoption by building the ultimate social network DApp, Whistle, where all your data will be backed as an NFT on the blockchain and purely under your control!" property="og:description">
  <meta content="https://uploads-ssl.webflow.com/61f079fe9c0e84c389f618a4/61f524449aab6ada7f12a9ce_circled.png" property="og:image">
  <meta content="The Web3 Project | Taking online further beyond" property="twitter:title">
  <meta content="The Web3 Project is on a mission to push web3 mass adoption by building the ultimate social network DApp, Whistle, where all your data will be backed as an NFT on the blockchain and purely under your control!" property="twitter:description">
  <meta content="https://uploads-ssl.webflow.com/61f079fe9c0e84c389f618a4/61f524449aab6ada7f12a9ce_circled.png" property="twitter:image">
  <meta property="og:type" content="website">
  <meta content="summary_large_image" name="twitter:card">
  <meta content="width=device-width, initial-scale=1" name="viewport">
   
  <link href="https://uploads-ssl.webflow.com/61f079fe9c0e84c389f618a4/61f524321551928e3d234161_circled.png" rel="shortcut icon" type="image/x-icon">
  <link href="https://uploads-ssl.webflow.com/61f079fe9c0e84c389f618a4/61f524449aab6ada7f12a9ce_circled.png" rel="apple-touch-icon">

  <meta name="twitter:image" content="https://uploads-ssl.webflow.com/61f079fe9c0e84c389f618a4/61f524449aab6ada7f12a9ce_circled.png">
  <meta name="twitter:description" content="The Web3 Project is on a mission to push web3 mass adoption by building the ultimate social network DApp, Whistle, where all your data will be backed as an NFT on the blockchain and purely under your control!">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="The Web3 Project | Taking online further beyond">

  <meta property="og:image" content="https://uploads-ssl.webflow.com/61f079fe9c0e84c389f618a4/61f524449aab6ada7f12a9ce_circled.png">
</head>
<body id="titano-finance" style="margin-bottom: 100px;">
  <div class="container-fluid">
    <div class="row">
      <div id="sidebarContainer" class="col-auto" style="z-index: 1000002;">
        <div id="sidebar" class="d-flex flex-column align-items-center pe-2 py-4">
          <a id="logo" href="https://www.theweb3project.com" class="text-decoration-none mb-5 w-100 d-flex align-items-center ps-3 pe-2">
            <img src="https://uploads-ssl.webflow.com/61f079fe9c0e84c389f618a4/61f51681bbd0e1be3f0538bd_cube.svg" alt="logo-icon" class="col-2">
            <img src="https://raw.githubusercontent.com/TheWeb3Project/TheWeb3ProjectAssets/main/imgs/logotext.png" alt="TheWeb3Project" class="col ms-4" style="width: 100%;">
          </a>

          <ul id="sidebar-nav" class="list-unstyled p-0 py-5">
            <li class="mb-4 py-2 px-5 rounded-pill">
              <a href="index.html" class="text-decoration-none text-reset d-flex align-items-center">
                <span class="fs-5"><i class="bi bi-collection"></i></span>
                <span class="ms-3">Dashboard</span>
              </a>
            </li>
            <li class="mb-4 py-2 px-5 rounded-pill">
              <a href="account.html" class="text-decoration-none text-reset d-flex align-items-center">
                <span class="fs-5"><i class="bi bi-person-circle"></i></span>
                <span class="ms-3">Account</span>
              </a>
            </li>
            <li class="mb-4 py-2 px-5 rounded-pill active">
              <a href="calculator.html" class="text-decoration-none text-reset d-flex align-items-center">
                <span class="fs-5"><i class="bi bi-calculator-fill"></i></span>
                <span class="ms-3">Calculator</span>
              </a>
            </li>
            <li class="mb-4 py-2 px-5 rounded-pill">
              <a href="swap.html" class="text-decoration-none text-reset d-flex align-items-center">
                <span class="fs-5"><i class="bi bi-lightning-charge"></i></span>
                <span class="ms-3">Swap</span>
              </a>
            </li>
            <li class="mb-4 py-2 px-5 rounded-pill">
              <a href="wrap.html" class="text-decoration-none text-reset d-flex align-items-center">
                <span class="fs-5"><i class="bi bi-lightning-charge"></i></span>
                <span class="ms-3">Wrap</span>
              </a>
            </li>
            <li class="mb-4 py-2 px-5 rounded-pill">
              <a href="https://docs.theweb3project.com" class="text-decoration-none text-reset d-flex align-items-center">
                <span class="fs-5"><i class="bi bi-journal-text"></i></span>
                <span class="ms-3">Docs</span>
              </a>
            </li>
          </ul>

          <div class="d-flex justify-content-around w-100 px-4">
            <a href="https://t.me/TheWeb3Project" class="text-decoration-none text-reset fs-5 social-icon-hover">
              <i class="bi bi-send-fill"></i>
            </a>
            <a href="https://twitter.com/TheWeb3Project" class="text-decoration-none text-reset fs-5 social-icon-hover">
              <i class="bi bi-twitter"></i>
            </a>
            <a href="https://discord.gg/crQkCE7Mn6" class="text-decoration-none text-reset fs-5 social-icon-hover">
              <i class="bi bi-discord"></i>
            </a>
            <a href="https://www.youtube.com/c/TheWeb3Project" class="text-decoration-none text-reset fs-5 social-icon-hover">
              <i class="bi bi-youtube"></i>
            </a>

          </div>
        </div>
      </div>

      <div id="overlay" style="z-index: 1000001;"></div>

      <main class="col pt-4">
        <div class="w-100 position-fixed end-0 top-0" style="height: 68px; z-index: 100001; background-color: #0D0F19;">
          <div class="d-flex pt-3 px-sm-3">
            <button type="button" id="showSidebar" class="d-lg-none btn fs-5"><i class="bi bi-list"></i></button>

            <div class="dropdown ms-auto">
              <button class="btn rounded-1" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false" data-bs-offset="0,14">
                <span class="fw-medium ms-1">WEB3</span> <span id="price" class="ms-1 small text-secondary">$0</span>
              </button>

              <ul class="dropdown-menu dropdown-menu-dark" aria-labelledby="dropdownMenuButton1">
                <li><a class="dropdown-item" href="https://pancakeswap.finance/swap?outputCurrency=0x333FD139cAeF6Aa31056cC905987b77B1044d259">Buy on Pancakeswap</a></li>
                <li><a class="dropdown-item" href="https://poocoin.app/tokens/0x333fd139caef6aa31056cc905987b77b1044d259">Chart</a></li>
              </ul>
            </div>

            <button id="connect" type="button" class="btn rounded-1 ms-3">
              Connect Wallet
            </button>
          </div>
        </div>

        <div class="container pt-3">
          <div class="col-xl-8 mx-auto">
            <div class="card bg-light border border-primary p-3 p-sm-4 mt-5">
              <h5 class="fw-bold mb-0">Calculator</h5>
              <span class="small fw-semibold">Estimate your return</span>
              <span class="small fw-semibold" style="color: red;">If buy/sell is balanced, (even if there is no trade)</span>
              <span class="small fw-semibold" style="color: red;">amount/price will be increased to that future amount/price</span>

              <div class="row text-center row-cols-1 row-cols-sm-3">
                <div class="col mt-5">
                  <h6 class="text-secondary mb-1">
                    WEB3 Price
                  </h6>
                  <h4 id="price" class="mb-0 fw-bold">
                    $0
                  </h4>
                </div>

                <div class="col mt-5">
                  <h6 class="text-secondary mb-1">
                    APY <i class="bi bi-patch-question-fill" data-bs-toggle="tooltip" data-bs-html="true" title="
                    Combined with amount APY and price APY<br/>
                    0.000079% / 3 sec<br/>
                    0.001580% / min<br/>
                    0.094844% / hour<br/>
                    2.301256% / day
                    "></i>
                  </h6>
                  <h4 id="apy" class="mb-0 fw-bold">
                    404,092.65%
                  </h4>
                </div>

                <div class="col mt-5">
                  <h6 class="text-secondary mb-1">
                    Your WEB3 Balance
                  </h6>
                  <h4 id="balance" class="mb-0 fw-bold">
                    0.00 WEB3
                  </h4>
                </div>
              </div>

              <div class="row mt-5">
                <div class="col-sm-6">
                  <label for="amount" class="form-label fw-medium">WEB3 Amount</label>
                  <div class="input-group border border-secondary rounded-1 mb-5">
                    <input type="text" id="amount" class="form-control py-2 px-3 rounded-1 border-0 text-secondary" aria-describedby="amount-addon" value="10" placeholder="Amount">
                    <span id="setMaxToAmount" class="input-group-text rounded-1 border-0">MAX</span>
                  </div>


                  <label for="price" class="form-label fw-medium">WEB3 price at purchase ($)</label>
                  <div class="input-group border border-secondary rounded-1 mb-5">
                    <input type="text" id="curPrice" class="form-control py-2 px-3 rounded-1 border-0 text-secondary" aria-describedby="price-addon" value="0" placeholder="Amount">
                    <span id="setCurToCurPrice" class="input-group-text rounded-1 border-0">Current</span>
                  </div>
                </div>

                <div class="col-sm-6">
                  <label for="apy" class="form-label fw-medium">Future WEB3 Amount</label>
                  <div class="input-group border border-secondary rounded-1 mb-5">
                    <input type="text" id="futAmount" class="form-control py-2 px-3 rounded-1 border-0 text-secondary" aria-describedby="apy-addon" value="10" placeholder="Amount">
                    <!-- <span id="setCurToFutAmount" class="input-group-text rounded-1 border-0">Current</span> -->
                  </div>


                  <label for="future-price" class="form-label fw-medium">Future WEB3 price ($) <i class="bi bi-patch-question-fill" data-bs-toggle="tooltip" data-bs-html="true" title="
                    This price happens automatically<br/>
                    when buy/sell amount is similar.<br/>
                    it may go up or down from that price depending on the buy/sell amount.
                    "></i>
                  </label>
                  <div class="input-group border border-secondary rounded-1 mb-5">
                    <input type="text" id="futPrice" class="form-control py-2 px-3 rounded-1 border-0 text-secondary" aria-describedby="future-price-addon" value="0" placeholder="Amount">
                    <span id="setCurToFutPrice" class="input-group-text rounded-1 border-0">Current</span>
                  </div>
                </div>
              </div>

              <label for="days-slider" class="fw-medium"><span id="noOfDays">30</span> days</label>
              <input type="range" min="1" max="365" step="1" value="30" id="days-slider" class="mb-5">

              <div class="row justify-centent-between text-secondary">
                <div class="col">
                  Your initial investment
                </div>

                <div id="initInvest" class="col-auto">
                  $0.000
                </div>
              </div>

              <div class="row justify-centent-between mt-4 text-secondary">
                <div class="mt-2 col">
                  Future wealth
                </div>

                <div id="futWealth" class="mt-2 col-auto">
                  $0.000
                </div>
              </div>

              <div class="row justify-centent-between mt-4 text-secondary">
                <div class="mt-2 col">
                  WEB3 rewards
                </div>

                <div id="rewardsEsti" class="mt-2 col-auto">
                  0.000 WEB3
                </div>
              </div>

              <div class="row justify-centent-between mt-4 text-secondary">
                <div class="mt-2 col">
                  Potential return
                </div>

                <div id="potenReturn" class="mt-2 col-auto">
                  $0.000
                </div>
              </div>

              <div class="row justify-centent-between mt-4 text-secondary">
                <div class="mt-2 col">
                  Potential number of Lambos
                </div>

                <div id="spaceTravel" class="mt-2 col-auto">
                  0
                </div>
              </div>
            </div>
          </div>
        </div>
      </main>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/rangeslider.js@2.3.3/dist/rangeslider.min.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/gh/upfinity-main/TheWeb3ProjectAssets/js/web3.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/upfinity-main/TheWeb3ProjectAssets/js/detect-provider.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/upfinity-main/TheWeb3ProjectAssets/js/ethers.umd.min.js"></script>
  <script src="js/base.js"></script>
  <script>
    document.getElementById("showSidebar").addEventListener("click", function () {
      document.getElementById("sidebarContainer").classList.add("show");
      document.getElementById("overlay").style.display = "block"
    })

    document.getElementById("overlay").addEventListener("click", function () {
      document.getElementById("sidebarContainer").classList.remove("show");
      document.getElementById("overlay").style.display = "none"
    })
  </script>

  <script>



    let balance;
    async function doAfterConnect() {
      displayText('#connect', SHORTADR(CURADR));

      balance = await CONTS['web3'].balanceOf(CURADR);
      balance = balance / BNBDIV;

      displayText("#balance", `${COMMA(INT(balance, 3))}`);
    }

    let bnbPrice;
    let price;
    (async () => {
      // do global
      select('#connect').onclick = async () => { await conn(); };

      bnbPrice = 1 / (await getPrice('busd'));

      let totalSupply = await CONTS['web3'].totalSupply();
      totalSupply = totalSupply / BNBDIV;
      
      let blackHoleAmount = await CONTS['web3'].balanceOf("0x1C57a30c8E1aFb11b28742561afddAAcF2aBDfb7");
      blackHoleAmount = blackHoleAmount / BNBDIV;
      displayText("#burned", `${COMMA(INT(blackHoleAmount, 3))}`);
      displayText("#theBlackHole", `$${COMMA(INT(blackHoleAmount * bnbPrice))}`);

      let circulatingSupply = totalSupply - blackHoleAmount;
      displayText("#cirSupply", `${COMMA(INT(circulatingSupply, 3))}`);

      let trustFundAdr = "0x5060E2fBB789c021C9b510e2eFd9Bf965e6a2475";
      let trustFundBalance = (await getBalance(trustFundAdr)) / BNBDIV * bnbPrice;
      trustFundBalance += (await CONTS['busd'].balanceOf(trustFundAdr)) / BNBDIV;
      displayText("#trustFund", `$${COMMA(INT(trustFundBalance, 3))}`);

      let treasuryAdr = "0xcCa3C1D62C80834f8B303f45D89298866C097B1a";
      let treasuryBalance = (await getBalance(treasuryAdr)) / BNBDIV * bnbPrice;
      trustFundBalance += (await CONTS['busd'].balanceOf(treasuryAdr)) / BNBDIV;

      let marketingAdr = "0x495987fFDcbb7c04dF08c07c6fD7e771Dba74175";
      let marketingBalance = (await getBalance(marketingAdr)) / BNBDIV * bnbPrice;
      marketingBalance += (await CONTS['busd'].balanceOf(marketingAdr)) / BNBDIV;
      displayText("#treasury", `$${COMMA(INT(trustFundBalance + treasuryBalance, 3))}`);

      let liqReserves = await CONTS['pairweb3'].getReserves();
      let liqBnb = liqReserves[1] / BNBDIV; 
      displayText("#liquidity", `$${COMMA(INT(liqBnb * bnbPrice, 0))}`);
      displayText("#backedLiq", `${COMMA(INT((trustFundBalance + treasuryBalance + marketingBalance) / liqBnb * 100, 0))}%`);

      let liqWeb3 = liqReserves[0] / BNBDIV;
      let liqRate = liqBnb / liqWeb3;
      price = liqRate * bnbPrice;
      displayText("#price", `$${COMMA(INT(price, 3))}`);

      let mcap = price * totalSupply;
      displayText("#mcap", `$${COMMA(INT(mcap))}`);
      
      // manual rebase
      select('#rebase').onclick = async () => { await runManualRebase(); };

      // let curBlock = await PROVIDER.getBlock();
      // curBlock = curBlock['number'];
      // let lastRebaseBlock = await CONTS['web3']._lastRebaseBlock();
      // lastRebaseBlock = INT(lastRebaseBlock);
      // let lastRebaseTime = (curBlock - lastRebaseBlock) * 3;
      // displayText("#lastRebase", `${lastRebaseBlock}, ${curBlock}, ${lastRebaseTime}`);
      

      ////////////////////////////////////////////////////////////////////////////

      select('#curPrice').value = `${COMMA(INT(price, 3))}`;
      select('#futPrice').value = `${COMMA(INT(price, 3))}`;

      
      select('#setMaxToAmount').onclick = async () => {
        select('#amount').value = balance;
      };
      select('#setCurToApy').onclick = async () => {
        select('#input-apy').value = 404092.65;
      };
      select('#setCurToCurPrice').onclick = async () => {
        select('#curPrice').value = INT(price, 3);
      };
      select('#setCurToFutPrice').onclick = async () => {
        select('#futPrice').value = INT(price, 3);
      };


      $('[data-bs-toggle="tooltip"]').tooltip();

      await getCurAdr();
      if (CURADR == null) {
        // connect wallet button
        return;
      }
      await doAfterConnect();

      // let [res, data] = await GAS('web3', 'manualRebase', []);
      // if (res == true) {
      //   return;
      // } else {
      //   gasEstimation = data;
      //   displayText("#lastRebase", `${lastRebaseBlock}, ${curBlock}, ${lastRebaseTime}, ${gasEstimation}`);
      // }
      $('[data-bs-toggle="tooltip"]').tooltip();
      
    })();


    $('input[type="range"]').rangeslider({});

    function changedValue(target, e) {
      let curAmount = select('#amount').value;
      if (curAmount == 0) {
        displayText("#initInvest", `$${COMMA(INT(0, 3))}`);
        displayText("#futWealth", `$${COMMA(INT(0, 3))}`);
      }

      let days;
      if (target == 'days') {
        days = e.currentTarget.value;
        select("#noOfDays").innerHTML = days;
      } else {
        days = select("#noOfDays").innerHTML;
      }

      let curPrice = select('#curPrice').value;
      let initInvest = curAmount * curPrice;
      displayText("#initInvest", `$${COMMA(INT(initInvest, 3))}`);

      let dailyRate = 0.004908;
      let totalRate = ((1 + dailyRate) ** days);      
      let futAmount = INT(curAmount * totalRate, 3);
      select('#futAmount').value = futAmount;
      
      let futPrice;
      if (target == 'futPrice') {
        futPrice = e.currentTarget.value;
      } else {
        let dailyPriceRate = 0.01801636;
        let totalPriceRate = ((1 + dailyPriceRate) ** days);
        futPrice = INT(curPrice * totalPriceRate, 3);
        select('#futPrice').value = futPrice;
      }

      let futInvest = futAmount * futPrice;

      displayText("#futWealth", `$${COMMA(INT(futInvest, 3))}`);

      displayText("#rewardsEsti", `${COMMA(INT(futAmount - curAmount, 3))}`);

      displayText("#potenReturn", `$${COMMA(INT(futInvest - initInvest, 3))}`);

      displayText("#spaceTravel", `${COMMA(INT(futInvest / 250000))}`);
    }

    $(document).on('input', 'input[type="range"]', function (e) {
      changedValue('days', e);
    }

    $(document).on('input', '#futPrice', function (e) {
      changeValue('futPrice', e);
    });

    $(function () {
      $('[data-bs-toggle="tooltip"]').tooltip();
    });
  </script>
</body>
</html>