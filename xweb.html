<!DOCTYPE html>
<html lang="en" style=" background-image: radial-gradient(circle farthest-corner at 50% 50%,#424750,#202326);">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/fa.css">

  <title>The Web3 Project | Taking online further beyond</title>
  <meta content="The Web3 Project is on a mission to push web3 mass adoption by building the ultimate social network DApp, Whistle, where all your data will be backed as an NFT on the blockchain and purely under your control!" name="description">
  <meta content="The Web3 Project | Taking online further beyond" property="og:title">
  <meta content="The Web3 Project is on a mission to push web3 mass adoption by building the ultimate social network DApp, Whistle, where all your data will be backed as an NFT on the blockchain and purely under your control!" property="og:description">
  <meta content="https://uploads-ssl.webflow.com/61f079fe9c0e84c389f618a4/61f524449aab6ada7f12a9ce_circled.png" property="og:image">
  <meta content="The Web3 Project | Taking online further beyond" property="twitter:title">
  <meta content="The Web3 Project is on a mission to push web3 mass adoption by building the ultimate social network DApp, Whistle, where all your data will be backed as an NFT on the blockchain and purely under your control!" property="twitter:description">
  <meta content="https://uploads-ssl.webflow.com/61f079fe9c0e84c389f618a4/61f524449aab6ada7f12a9ce_circled.png" property="twitter:image">
  <meta property="og:type" content="website">
  <meta content="summary_large_image" name="twitter:card">
  <meta content="width=device-width, initial-scale=1" name="viewport">

  <link href="https://uploads-ssl.webflow.com/61f079fe9c0e84c389f618a4/61f524321551928e3d234161_circled.png" rel="shortcut icon" type="image/x-icon">
  <link href="https://uploads-ssl.webflow.com/61f079fe9c0e84c389f618a4/61f524449aab6ada7f12a9ce_circled.png" rel="apple-touch-icon">

  <meta name="twitter:image" content="https://uploads-ssl.webflow.com/61f079fe9c0e84c389f618a4/61f524449aab6ada7f12a9ce_circled.png">
  <meta name="twitter:description" content="The Web3 Project is on a mission to push web3 mass adoption by building the ultimate social network DApp, Whistle, where all your data will be backed as an NFT on the blockchain and purely under your control!">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="The Web3 Project | Taking online further beyond">

  <meta property="og:image" content="https://uploads-ssl.webflow.com/61f079fe9c0e84c389f618a4/61f524449aab6ada7f12a9ce_circled.png">

  <link rel="stylesheet" href="css/flooz.css">
</head>

<body id="titano-finance" style="margin-bottom: 100px; width: 100%; background-image: radial-gradient(circle farthest-corner at 50% 50%,#424750,#202326); font-weight: 400;">
  <div class="container-fluid">
    <div class="row">
      <div id="sidebarContainer" class="col-auto" style="z-index: 1000002;  ">

      </div>

      <div id="overlay" style="z-index: 1000001;"></div>

      <main id='main'>
        <div id="web3-header">
        </div>

        <div id="container">
          <div class="my-5 col-12">
            <div id='card'>
              <span class="fw-medium ms-1">
                (TEST) $xWEB3
                <a id="xweb3-link" target="_blank">
                  <span id="xweb3"></span>
                </a>
                <button id='copy-pweb3' style="font-size: 16px; 	background: none;
                color: inherit;
                border: none;
                padding: 0;
                font: inherit;
                cursor: pointer;
                outline: inherit;"> <img style="width: 16px; height: 16px; margin-left: 10px; " src="./images/copy-solid.svg" alt=""></button>
              </span>
            </div>
          </div>

          <div class="my-5 col-12">
            <div id='card'>
              <div class="row row-cols-1 row-cols-sm-3">
                <div class="col">
                  <div class="text-secondary mb-1">
                    $xWEB3 Total Supply
                  </div>
                  <h4 id="xTotalSupply" class="fw-bold">0.000</h4>
                </div>

                <div class="col">
                  <div class="text-secondary mb-1">
                    $xWEB3 Price
                  </div>
                  <h4 id="xPrice" class="fw-bold">0.000</h4>
                </div>

                <div class="col">
                  <div class="text-secondary mb-1">
                    $xWEB3 Balance
                  </div>
                  <h4 id="xweb3Balance" class="fw-bold">0.000</h4>
                </div>
              </div>
            </div>
          </div>

          <div class="my-5 col-12">
            <div id='card'>
              <div class="row row-cols-1 row-cols-sm-3">
                <div class="col">
                  <div class="text-secondary mb-1">
                    Quantum Invest Fund
                  </div>
                  <h4 id="xFund" class="fw-bold">$0</h4>
                </div>

                <div class="col">
                  <div class="text-secondary mb-1">
                    $xWEB3 Holding %
                  </div>
                  <h4 id="xHolding" class="fw-bold">0.000 %</h4>
                </div>

                <div class="col">
                  <div class="text-secondary mb-1">
                    Daily Reward
                  </div>
                  <h4 id="xReward" class="fw-bold">0 BNB</h4>
                </div>
              </div>
            </div>
          </div>

        </div>
      </main>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/rangeslider.js@2.3.3/dist/rangeslider.min.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/gh/upfinity-main/TheWeb3ProjectAssets/js/web3.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/upfinity-main/TheWeb3ProjectAssets/js/detect-provider.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/upfinity-main/TheWeb3ProjectAssets/js/ethers.umd.min.js"></script>
  <script src="js/base.js"></script>
  <script src="js/global.js"></script>
  <script src="js/page.js"></script>
  <script>
    async function runGlobal() {
      await _runGlobal();
    }

    let wweb3Balance;



    function showValue1(newValue) {
        document.getElementById("days").innerHTML= newValue;
      }

      function changeRangeValue(val){
          document.getElementById("days-slider").value = isNaN(parseInt(val, 10)) ? 0 : parseInt(val, 10);
          showValue1(val);
      }

      function changeInputValue(val){
          document.getElementById("days-sliders").value = isNaN(parseInt(val, 10)) ? 0 : parseInt(val, 10);
          showValue1(val);
      }

      function showValues1(newValue) {
        document.getElementById("xweb3Amount").innerHTML= newValue;
      }

      function changeRangeValues(val){
          document.getElementById("xWEB3-slider").value = isNaN(parseInt(val, 10)) ? 0 : parseInt(val, 10);
          showValues1(val);
      }

      function changeInputValues(val){
          document.getElementById("xWEB3-sliders").value = isNaN(parseInt(val, 10)) ? 0 : parseInt(val, 10);
          showValues1(val);
      }



    async function boxOpening() {
      let [res, data] = await SEND_TX('nft', 'getArmyBox', []);
      if (res == true) {
        return;
      }

      let result = data;
      let txResult = await result.wait();
      let txLogs = txResult['logs'];
      let mintEvent = INTFS['nft'].getEventTopic("MintedNFT(uint, address, uint256)");
      let armyImgUrl;
      for (txLog of txLogs) {
        let topics = txLog['topics'];
        if (topics[0] == mintEvent) {
          let decodedData = INTFS['nft'].decodeEventLog("MintedNFT(uint, address, uint256)", txLog['data'], [mintEvent]);
          let tokenId = decodedData[0];
          let itemId = decodedData[2];
          displayText('#nftId', tokenId);
          displayText('#nftLink', HREF(BSC('address', CURADR + '#tokentxnsErc721'), Link));
          let armyJsonUrl = await CONTS['nft'].tokenURI(tokenId);
          let armyJsonData = await getUrlData(armyJsonUrl);
          armyImgUrl = armyJsonData['image']
        }
      }
      document.getElementById("unBox").style.display = 'none';
      document.getElementById("video").style.display = 'block';
      vid = document.getElementById("vid");
      vid.play();
      setInterval(() => {
      // document.getElementById("unBox").style.display = 'block';
      // var createNft = document.createElement('img');
      // createNft.src = './images/circledlogo.png';
      // console.log(createNft);
      document.getElementById("showNFT").src = armyImgUrl;

      document.getElementById("video").style.display = 'none';
      }, 2000);
    }

    async function runPersonal() {
      await _runPersonal();



      wweb3Balance = await CONTS['wweb3'].balanceOf(CURADR);
      wweb3Balance = wweb3Balance / BNBDIV;

      displayText("#wweb3Balance", `${COMMA(INT(wweb3Balance, 3))}`);

      let web3Allowance = await CONTS['web3'].allowance(CURADR, ADRS['wweb3']);


      if (BIGINT(0) < web3Allowance) {
        select('#run-web3-approve').classList.add('d-none');
      } else {
        select('#run-web3-approve').onclick = async () => { await approve('web3', ADRS['wweb3']); };
      }

      let wweb3Allowance = await CONTS['wweb3'].allowance(CURADR, ADRS['wweb3']);
      if (BIGINT(0) < wweb3Allowance) {
        select('#run-wweb3-approve').classList.add('d-none');
      } else {
        select('#run-wweb3-approve').onclick = async () => { await approve('wweb3', ADRS['wweb3']); };
      }

      let pweb3Allowance = await CONTS['pweb3'].allowance(CURADR, ADRS['nft']);
      if (BIGINT(0) < pweb3Allowance) {
        select('#run-pweb3-approve-nft').classList.add('d-none');
      } else {
        select('#run-pweb3-approve-nft').onclick = async () => { await approve('pweb3', ADRS['nft']); };
      }
		
      let pppweb3Allowance = await CONTS['pweb3'].allowance(CURADR, ADRS['miner']);
      if (BIGINT(0) < pppweb3Allowance) {
        select('#run-pweb3-approve-miner').classList.add('d-none');
      } else {
        select('#run-pweb3-approve-miner').onclick = async () => { await approve('pweb3', ADRS['miner']); };
      }

      let ppweb3Allowance = await CONTS['pweb3'].allowance(CURADR, ADRS['xweb3']);
      if (BIGINT(0) < ppweb3Allowance) {
        select('#run-pweb3-approve-xweb3').classList.add('d-none');
      } else {
        select('#run-pweb3-approve-xweb3').onclick = async () => { await approve('pweb3', ADRS['xweb3']); };
      }

      let busdAllowance = await CONTS['busd'].allowance(CURADR, ADRS['xweb3']);
      if (BIGINT(0) < busdAllowance) {
        select('#run-busd-approve-xweb3').classList.add('d-none');
      } else {
        select('#run-busd-approve-xweb3').onclick = async () => { await approve('busd', ADRS['xweb3']); };
      }

      let stakedAmount = await CONTS['lock']._amounts(CURADR);
      stakedAmount = stakedAmount / BNBDIV;
      displayText("#stakedAmount", `$${COMMA(INT(stakedAmount, 3))}`);


      let rewardLeft = await CONTS['lock']._rewards(CURADR);
      rewardLeft = rewardLeft / BNBDIV;
      displayText("#rewardLeft", `$${COMMA(INT(rewardLeft, 3))}`);

      let unlockTime = await CONTS['lock']._unlockTimes(CURADR);
      let lastClaim = await CONTS['lock']._lastClaims(CURADR);
      if (0 < unlockTime - lastClaim) {
        let canClaim = rewardLeft * (Date.now() - lastClaim) / (unlockTime - lastClaim);
        displayText("#canClaim", `$${COMMA(INT(canClaim, 3))}`);

        let now = INT(NOW() / 1000);
        TICKS = unlockTime - now;

        let timeinterval = setInterval(function () {
          displayText("#unlockTime", `${INT(TICKS / 86400)}d ${INT((TICKS % 86400) / 3600)}h ${INT((TICKS % 3600) / 60)}m ${TICKS % 60}s`);
          UPDATETICK();
        }, 1000);
      }

    }

    (async () => {
      // do global



      await runGlobal();

      $(document).on('input', '#days-slider', function (e) {
          // var x = document.getElementById("days-slider").value
          // var y =  document.getElementById('days-sliders').value = x
          // x = y
          // console.log(x);
          // console.log(y);

        changedValue('days', select('input[type="range"]'));

        let minerAmount = select('#days').innerHTML;
        displayText('#days', `${COMMA(INT(minerAmount))}`);

        displayText('#miner-pweb3', `${COMMA(INT(minerAmount * 8845))}`);


      });

      $(document).on('input', '#xWEB3-slider', function (e) {
        changedValue('xWEB3', select('#xWEB3-slider'));
        changedValue('xWEB3', select('#xWEB3-sliders'));
        let xweb3Amount = select('#xweb3Amount').innerHTML;


        displayText('#xweb3Amount', `${INT(xweb3Amount / 1000, 3)}`);

        
        displayText('#xweb3-pweb3', `${COMMA(INT(xweb3Amount / 1000 * xPrice * 1769))}`);

      });

      $(document).on('input', '#xWEB3-sliders', function (e) {
        changedValue('xWEB3', select('#xWEB3-sliders'));
        let xweb3Amount = select('#xweb3Amount').innerHTML;
        displayText('#xweb3Amount', `${INT(xweb3Amount / 1000, 3)}`);


        displayText('#xweb3-pweb3', `${COMMA(INT(xweb3Amount / 1000 * xPrice * 1769))}`);
      });
      

      $(document).on('input', 'input[type="range"]', function (e) {
      changedValue('days', select('input[type="range"]'));
      if(document.getElementById('days').innerHTML < 2948333) {
          document.getElementById('minerImage').src = '/images/Group_68.png'
        } if(document.getElementById('days').innerHTML > 2948333) {
          document.getElementById('minerImage').src = '/images/Group_67.png'
        } if(document.getElementById('days').innerHTML >= 5896666){
          console.log('dsa')

          document.getElementById('minerImage').src = '/images/Group_66.png'
        }

    });


            ////////////////////////////////////////////////////////////////////////////

      select('#curPrice').value = `${COMMA(INT((await gV('price')), 3))}`;
      select('#futPrice').value = `${COMMA(INT((await gV('price')), 3))}`;


      select('#setMaxToAmount').onclick = async () => {
        select('#amount').value = (await gV('web3Balance'));
      };

      select('#setCurToApy').onclick = async () => {
        select('#input-apy').value = 404092.65;
      };

      select('#setCurToCurPrice').onclick = async () => {
        select('#curPrice').value = INT((await gV('price')), 3);
      };

      select('#setCurToFutPrice').onclick = async () => {
        select('#futPrice').value = INT((await gV('price')), 3);
      };
      $('[data-bs-toggle="tooltip"]').tooltip();

      await getCurAdr();
      if (CURADR == null) {
        // connect wallet button
        return;
      }
      await runPersonal();
      $('[data-bs-toggle="tooltip"]').tooltip();

    })();

    select('#sidebar-nav').children[5].classList.add('active-neumorphism');
  </script>
    <style>
      .active-neumorphism {
        box-shadow:  2px 2px 9px 0 rgb(17 19 20 / 90%),
           -2px -2px 9px 0 rgb(93 100 112 / 90%);
        background-image: linear-gradient(160deg, #424750, #202326);
        text-shadow: 0 0 1px #0071bc, 0 0 4px #4db8ff, 0 0 16px #48acef, 5px 5px 6px rgb(23 25 28 / 85%), -5px -5px 6px rgb(76 82 92 / 85%);
      }
      .card {
        border: none;
      }
      .neontext{
        color: #fff;
      }

      #titano-finance #sidebar-nav li:hover {
        color: #fff;
      }
      .neontext:hover{
        color: #fff;
        text-shadow: 0 0 1px #0071bc, 0 0 4px #4db8ff, 0 0 16px #48acef, 5px 5px 6px rgb(23 25 28 / 85%), -5px -5px 6px rgb(76 82 92 / 85%);
      }
    </style>
</body>
</html>