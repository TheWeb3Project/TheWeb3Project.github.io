<!DOCTYPE html>
<html>

<head>
   <meta charset="UTF-8" />
   <meta http-equiv="X-UA-Compatible" content="IE=edge" />
   <meta name="viewport" content="width=device-width, initial-scale=1.0" />
   <title class="title">The Web3 Project | Taking online further beyond</title>

   <!-- ------- fav-icon code ---------- -->

   <link rel="shortcut icon" href="images/overview-1.svg" />
   
   <!-- --- style css file link --- -->

   <link rel="stylesheet" href="css/style.css" />
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
</head>

<body class="body">
   
   <div class="tooltipdiv"></div>
   <div class="tooltipdiv1"></div>
   <div class="clipboard"><img src="images/Union.svg" alt="Union" />&ThinSpace;&ThinSpace;<span>Copied to clipboard</span></div>
   <!-- ------ POP-UP DIV START ------ -->
   <div class="allmaindiv">
      <div class="secondmaindiv">
      <div class="popup-main">
         <div class="popup-cntdiv">
            <div class="popup-firstdiv">
               <div class="share-cnt-div">
                  <div class="share">
                     <span><img src="images/headicon.png" alt="offer"></span>
                     <span class="shareit">Share it</span>
                  </div>
                  <div class="close">
                     <span><img src="images/close-circle.png" alt="close-circle" class="close-circle" onclick="clearModalData()"></span>
                  </div>
               </div>
               <div class="share-icon-div">
                  <span class="copy-img-cnt">Click here to <span class="CopyToImg" onclick="copyImg()">Copy</span> this image and spreadthis to everywhere</span>
                  &ThinSpace;&ThinSpace;&ThinSpace;&ThinSpace;
                  <div class="popup-share-img">
                     <span><img src="images/twt.png" class="Social-icons-img" alt="offer"></span>
                     &ThinSpace;&ThinSpace;
                     <span><img src="images/insta.png" class="Social-icons-img" alt="offer"></span>
                     &ThinSpace;&ThinSpace;
                     <span><img src="images/fcbk.png" class="Social-icons-img" alt="offer"></span>
               </div>
               </div>
               <hr class="popup-line">
            </div>
            <div class="popup-imgdiv">
               <img src="" alt="" id="dataimg" height="100%" width="100%">
            </div>
         </div>
      </div>
      </div>
   </div>

   <!-- ------ POP-UP DIV END ------ -->
   <div class="bg"></div>
   <div class="wrapper">
      <div class="side-nav" id="nav">
         <div class="logo">
            <a href="https://www.theweb3project.com/"><img src="images/Logo.svg" alt="TWEP-Logo" /></a>
         </div>
         <hr class="hide-m" />
         <div class="side-tabs-list">
            <ul class="side-tabs-ul nav-pills">
               <li class="side-tab-li" onclick="onChangeMenu('index')"><span><i
                        class="dashboard"></i>Dashboard</span></li>
               <li class="side-tab-li" onclick="onChangeMenu('swap')"><span><i class="swap"></i>Swap</span></li>
               <li class="side-tab-li tab-active background-box1" id="legacy" onclick="show()"><span><i class="legacy"></i>Legacy<i class="d-own"></i></span></li>
               <li class="dropdown-container" id="cont">
                  <a  onclick="onChangeMenu('wrap')">Wrap</a>
                  <a onclick="onChangeMenu('pointshop')" href="#">Pointshop</a>
                  <a class="active" onclick="onChangeMenu('miner')">Miner</a>
                  <a onclick="onChangeMenu('wusd')">WUSD</a>
                  <a onclick="onChangeMenu('xweb3')">xWEB3</a>
                 </li>
              <li class="side-tab-li" onclick="window.open('https://docs.theweb3project.com/','_blank')"><span><i class="docs"></i>Docs</span></li>
            </ul>
         </div>
         <hr />
         <div class="social-icons-div">
            <ul>
               <li>
                  <a href="https://discord.com/invite/Mn43SWyj3g" target="_blank"><i class="discord"></i></a>
               </li>
               <li>
                  <a href="https://twitter.com/TheWeb3Project" target="_blank"><i class="twitter"></i></a>
               </li>
               <li>
                  <a href="https://www.youtube.com/c/TheWeb3Project/featured" target="_blank"><i class="youtube"></i></a>
               </li>
               <li>
                  <a href="https://t.me/TheWeb3ProjectPortal" target="_blank"><i class="telegram"></i></a>
               </li>
            </ul>
         </div>
         <div class="alert-div">
            <p class="turnmsg">Turn on alerts</p>
            <label class="switch">
               <input type="checkbox" id="turnon"  onclick="turnOnfunction()"/>
               <span class="slider round"></span>
            </label>
         </div>
      </div>
      <div class="main-content-div">

         <div class="upper-div">
            <div class="logo1">
               <a href="https://www.theweb3project.com/"><img src="images/Logo.svg" alt="TWEP-Logo" /></a>
            </div>
            <div class="head-title"><i class='title-image miner'></i>Miner</div>
            <div class="hum-burgur-div" id="test-check-hum">
               <input type="checkbox" class="menu-btn" id="hm-burg" onclick="executefunction()" />
      <label class="menu-icon" for="hm-burg">
        <span class="nav-icon"></span>
      </label>

            </div>
            <div class="wallet-div">
               <div class="w-value">
                  <a class="background-box" href="https://poocoin.app/tokens/0x1aeb3f66d96bfaf74fcbd15dc21798de36f6f933" target="_blank">
                     <i class="twep-icon"></i>TWEP <span> <h4 id="price" class="fw-bold">$0</h4></span>
                  </a>
               </div>
               <div class="con-wallet" id="connect">
                  <!-- Page.js line 66 -->
                  <a href="#">
                     Connect Wallet
                     <!-- <i class="go-icon"></i> -->
                  </a>
               </div>
            </div>
         </div>

         <!-- *********************************************** -->
         <!-- Miner Start -->
         <!-- ******************************************** -->

         <div class="container-div tab-active animate__animated animate__fadeIn">
          <div class="offer background-box">
             <span><img src="images/headicon.png" alt="offer"></span>
             <p>
                Miners is closed now. Claim your refund.
             </p>
          </div>
          <section class="over-div miner">
             <div class="over-main background-box">
                <h2>Your Earning</h2>
                <div class="input-field-div">
                   <div class="input-text-div">
                      <div class="upper-part">
                         <span class="upper-left">Initial Investment</span>
                      </div>
                      <div class="bottom-part">
                         <input type="text" class="input-w" value="0.01">
                      </div>
                   </div>
                   <div class="input-text-div">
                      <div class="upper-part">
                         <span class="upper-left">Investment Refunded</span>
                      </div>
                      <div class="bottom-part">
                         <input type="text" value="0.01">
                      </div>
                   </div>
                   <div id="sellOre" class="go-div">
                      <a id="run-name" class="go-link" href="#">Claim
                         <!-- <i class="go-icon"></i> -->
                      </a>
                   </div>
                </div>
             </div>
          </section>
        </div>

       <!-- *********************************************** -->
       <!-- Miner End -->
       <!-- ******************************************** -->

      </div>
   </div>
   <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/dom-to-image/2.6.0/dom-to-image.js" integrity="sha512-wUa0ktp10dgVVhWdRVfcUO4vHS0ryT42WOEcXjVVF2+2rcYBKTY7Yx7JCEzjWgPV+rj2EDUr8TwsoWF6IoIOPg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
   <script type="text/javascript" src="js/index.js"></script>
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/rangeslider.js@2.3.3/dist/rangeslider.min.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/gh/upfinity-main/TheWeb3ProjectAssets/js/web3.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/upfinity-main/TheWeb3ProjectAssets/js/detect-provider.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/upfinity-main/TheWeb3ProjectAssets/js/ethers.umd.min.js"></script>
  <script src="js/base.js"></script>
  <script src="js/global.js"></script>
  <script src="js/page.js"></script>
  <script>
    async function runGlobal() {
      await _runGlobal();
      
      $(document).on('input', 'input[type="range"]', function (e) {
        changedValue('days', select('input[type="range"]'));

        if(document.getElementById('days').innerHTML < 3333) {
          document.getElementById('minerImage').src = '/images/Group_68.png'
        } if(document.getElementById('days').innerHTML > 3333) {
          document.getElementById('minerImage').src = '/images/Group_67.png'
        } if(document.getElementById('days').innerHTML >= 6666){
          document.getElementById('minerImage').src = '/images/Group_66.png'
        }
      });

    }

    function showValue1(newValue) {
        document.getElementById("days").innerHTML= newValue;
      }

    function changeRangeValue(val){
        document.getElementById("days-slider").value = isNaN(parseInt(val, 10)) ? 0 : parseInt(val, 10);
        showValue1(val);
    }

    function changeInputValue(val){
        document.getElementById("days-sliders").value = isNaN(parseInt(val, 10)) ? 0 : parseInt(val, 10);
        showValue1(val);
    }


    let rehireTimeLeft;
    async function runPersonal() {
      await _runPersonal();


      let web3Allowancem = await CONTS['twep'].allowance(CURADR, ADRS['wweb3']);
      if (BIGINT(0) < web3Allowancem) {
        select('#run-web3-approve').classList.add('d-none');
      } else {
        select('#run-web3-approve').onclick = async () => { await approve('twep', ADRS['wweb3']); };
      }

      let wweb3Allowancem = await CONTS['wweb3'].allowance(CURADR, ADRS['wweb3']);
      if (BIGINT(0) < wweb3Allowancem) {
        select('#run-wweb3-approve').classList.add('d-none');
      } else {
        select('#run-wweb3-approve').onclick = async () => { await approve('wweb3', ADRS['wweb3']); };
      }

      let pweb3Allowance = await CONTS['pweb3'].allowance(CURADR, ADRS['miner']);
      if (BIGINT(0) < pweb3Allowance) {
        select('#run-pweb3-approve-miner').classList.add('d-none');
      } else {
        select('#run-pweb3-approve-miner').onclick = async () => { await approve('pweb3', ADRS['miner']); };
      }

      let busdAllowance = await CONTS['busd'].allowance(CURADR, ADRS['miner']);
      if (BIGINT(0) < busdAllowance) {
        select('#run-busd-approve-miner').classList.add('d-none');
      } else {
        select('#run-busd-approve-miner').onclick = async () => { await approve('busd', ADRS['miner']); };
      }

      let _miners = await CONTS['miner']._miners(CURADR);
      select('#_miners').innerHTML = `${COMMA(INT(_miners))}`;
			
      let _amounts = await CONTS['miner']._amounts(CURADR);
      select('#_amounts').innerHTML = `$${COMMA(INT(_amounts / BNBDIV, 1))}`;

      let _rates = await CONTS['miner'].getRateX10000(CURADR);
      select('#_rates').innerHTML = `${COMMA(INT(_rates / 10000 * 100, 2))}%`;      

      let _daimonds = await CONTS['miner']._daimonds(CURADR);
      select('#_daimonds').innerHTML = `${COMMA(INT(_daimonds))}`;
      
      let calculateWusdRewards = await CONTS['miner'].calculateWusdRewards(CURADR);
      calculateWusdRewards = calculateWusdRewards / BNBDIV;
      select('#calculateWusdRewards').innerHTML = `${COMMA(INT(calculateWusdRewards, 3))}`;


      let refUrl = location.href.split('?ref=')[0] + '?ref=' + CURADR;
      select('#ref').value = location.href.split('?ref=')[0] + '?ref=' + SHORTADR(CURADR, true, 2);

      const buttonpref = select('.copy-btn-ref');

      const addToClipboardref = async (link) => {
        await navigator.clipboard.writeText(link);
      }

      const copyLinkref = async (link) => {
        const copiedref = await addToClipboardref(link);
        buttonpref.innerText = 'Copied';
        setTimeout(() => {
          buttonpref.innerHTML = '<img style="width: 16px; height: 16px; margin-left: 10px; " src="./images/copy-solid.svg" alt="">'
        }, 3000)
      };

      buttonpref.addEventListener('click', () => copyLinkref(refUrl))

      let ref = getRef();
      if (ref == '') {
      } else {
       select('#refAdr').innerHTML = ref;
      }
      
      
      let lastHire = (await gV('lastHire'));
      rehireTimeLeft = lastHire + 60*24*24 - now;
      setInterval(function () {
        if (isNaN(rehireTimeLeft)) {
          return;
        }
        
        if (rehireTimeLeft <= 0) {
          displayText(`#hireMore span span`, "ReHire");
          return;
        }
          
          let timeStr = getTimeStr(rehireTimeLeft, false, true, true, true);
          displayText(`##hireMore span span`, timeStr);
          rehireTimeLeft -= 1;
      }, 1000);

    }

    async function checkStat(adr) {
      let _amounts = await CONTS['miner']._amounts(adr);
      _amounts = _amounts / BNBDIV;
      let _returns = await CONTS['miner']._returns(adr);
      _returns = _returns / BNBDIV;

      let rRate = _returns / _amounts * 100;

      let firstTime = 1652598751;
      let passedWeeks = (NOW() / 1000 - firstTime) / (60*60*24*7);
      return [_amounts, _returns, rRate, passedWeeks, rRate / passedWeeks];
    }

    (async () => {
      // do global
      await runGlobal();

      ////////////////////////////////////////////////////////////////////////////



      $('[data-bs-toggle="tooltip"]').tooltip();


      await getCurAdr();
      if (CURADR == null) {
        // connect wallet button
        return;
      }

      await runPersonal();
      
      $('[data-bs-toggle="tooltip"]').tooltip();

    })();

    select('#sidebar-nav').children[6].classList.add('active-neumorphism');
  </script>
  
</body>

</html>